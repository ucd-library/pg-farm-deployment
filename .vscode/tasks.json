{
  "version": "2.0.0",
  "tasks": [
      {
          "label": "Proxy Dashboard",
          "type": "shell",
          "command": "echo 'visit http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy'; kubectl proxy",
          "presentation": {
              "echo": true,
              "reveal": "always",
              "focus": false,
              "panel": "dedicated",
              "showReuseMessage": false,
              "clear": false
          },
          "problemMatcher": []
      },
      {
          "label": "Generate Dashboard Token",
          "type": "shell",
          "command": "./cmds/local-dev.sh dashboard-token",
          "presentation": {
              "echo": true,
              "reveal": "always",
              "focus": false,
              "panel": "dedicated",
              "showReuseMessage": false,
              "clear": false
          },
          "problemMatcher": []
      },
      {
          "label": "Proxy Gateway HTTP",
          "type": "shell",
          "command": "kubectl port-forward svc/gateway-ingress 3000:80",
          "presentation": {
              "echo": true,
              "reveal": "always",
              "focus": false,
              "panel": "dedicated",
              "showReuseMessage": false,
              "clear": false
          },
          "problemMatcher": []
      },
      {
        "label": "Proxy Gateway PG",
        "type": "shell",
        "command": "kubectl port-forward svc/gateway-ingress 5432:5432",
        "presentation": {
            "echo": true,
            "reveal": "always",
            "focus": false,
            "panel": "dedicated",
            "showReuseMessage": false,
            "clear": false
        },
        "problemMatcher": []
      },
      {
        "label": "Proxy Admin DB",
        "type": "shell",
        "command": "kubectl port-forward svc/admin-db 5433:5432",
        "presentation": {
            "echo": true,
            "reveal": "always",
            "focus": false,
            "panel": "dedicated",
            "showReuseMessage": false,
            "clear": false
        },
        "problemMatcher": []
      },
      {
        "label": "Client Watch",
        "type": "shell",
        "command": "./cmds/local-dev.sh exec client \"npm run client-watch\"",
        "presentation": {
            "echo": true,
            "reveal": "always",
            "focus": false,
            "panel": "dedicated",
            "showReuseMessage": false,
            "clear": false
        },
        "problemMatcher": []
      },
      {
        "label": "Init kubectl",
        "type": "shell",
        "command": "./cmds/local-dev.sh init-kubectl",
        "presentation": {
            "echo": true,
            "reveal": "always",
            "focus": false,
            "panel": "dedicated",
            "showReuseMessage": false,
            "clear": false
        },
        "problemMatcher": []
      },
      {
          "label": "Setup PG Farm Dev Environment",
          "dependsOn": [
              "Init kubectl",
              "Proxy Dashboard",
              "Generate Dashboard Token",
              "Proxy Gateway HTTP",
              "Proxy Gateway PG",
              "Proxy Admin DB",
          ]
      }
  ]
}
